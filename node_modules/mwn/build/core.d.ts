/**
 * The entry point for all API calls to wikis is the
 * mwn#request() method in bot.ts. This function uses
 * the Request and Response classes defined in this file.
 */
import type { AxiosResponse, AxiosRequestConfig } from "axios";
import * as OAuth from "oauth-1.0a";
import type { mwn, ApiParams, ApiResponse } from "./bot";
export interface RawRequestParams extends AxiosRequestConfig {
    retryNumber?: number;
}
export declare class Request {
    apiParams: ApiParams;
    requestParams: RawRequestParams;
    bot: mwn;
    constructor(bot: mwn, apiParams: ApiParams, requestParams: RawRequestParams);
    process(): Promise<void>;
    getMethod(): "get" | "post";
    MULTIPART_THRESHOLD: number;
    hasLongFields: boolean;
    preprocessParams(): void;
    fillRequestOptions(): Promise<void>;
    applyAuthentication(): void;
    /**
     * Get OAuth Authorization header
     */
    makeOAuthHeader(params: OAuth.RequestOptions): OAuth.Header;
    handleGet(): void;
    handlePost(): Promise<void>;
    useMultipartFormData(): boolean;
    handlePostMultipartFormData(): Promise<void>;
}
export declare class Response {
    bot: mwn;
    params: ApiParams;
    requestOptions: RawRequestParams;
    rawResponse: AxiosResponse<ApiResponse>;
    response: ApiResponse;
    constructor(bot: mwn, params: ApiParams, requestOptions: RawRequestParams);
    process(rawResponse: AxiosResponse<ApiResponse>): Promise<ApiResponse>;
    initialCheck(): Promise<void>;
    showWarnings(): void;
    handleErrors(): Promise<void | ApiResponse>;
    retry(): Promise<ApiResponse>;
    dieWithError(): Promise<never>;
    handleRequestFailure(error: any): Promise<ApiResponse>;
}
